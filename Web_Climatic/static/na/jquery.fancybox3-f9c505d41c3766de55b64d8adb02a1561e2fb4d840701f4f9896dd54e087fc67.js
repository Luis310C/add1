/*!
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(window,document,$,undefined){"use strict";var W=$(window),D=$(document),H=$("html"),F=$.fancybox=function(){F.open.apply(this,arguments)},isTouch=F.isTouch=document.createTouch!==undefined||window.ontouchstart!==undefined,isQuery=function(object){return object&&object.hasOwnProperty&&object instanceof $},isString=function(str){return str&&"string"===$.type(str)},isPercentage=function(str){return isString(str)&&str.indexOf("%")>0},getScalar=function(orig,dim){var value=parseFloat(orig,10)||0;return dim&&isPercentage(orig)&&(value=F.getViewport()[dim]/100*value),Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+"px"},getTime=Date.now||function(){return+new Date},removeWrap=function(what){var el=isString(what)?$(what):what;if(el&&el.length){el.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{el.find("iframe").unbind().attr("src",isTouch?"":"//about:blank"),setTimeout(function(){var scrollV,scrollH;(el.empty().remove(),!F.lock||F.coming||F.current)||($(".fancybox-margin").removeClass("fancybox-margin"),scrollV=W.scrollTop(),scrollH=W.scrollLeft(),H.removeClass("fancybox-lock"),F.lock.remove(),F.lock=null,W.scrollTop(scrollV).scrollLeft(scrollH))},150)}catch(e){}}};$.extend(F,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!isTouch,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!isTouch,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorw\xe4rts",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(items,options){items&&!1!==F.close(!0)&&($.isPlainObject(options)||(options={}),F.opts=$.extend(!0,{},F.defaults,options),F.populate(items),F.group.length&&F._start(F.opts.index))},populate:function(items){var group=[];$.isArray(items)||(items=[items]),$.each(items,function(i,element){var item,obj,type,margin,padding,defaults=$.extend(!0,{},F.opts);if($.isPlainObject(element))item=element;else if(isString(element))item={href:element};else{if(!(isQuery(element)||"object"===$.type(element)&&element.nodeType))return;obj=$(element),(item=$(obj).get(0)).href||(item={href:element}),item=$.extend({href:obj.data("fancybox-href")||obj.attr("href")||item.href,title:obj.data("fancybox-title")||obj.attr("title")||item.title,type:obj.data("fancybox-type"),element:obj},obj.data("fancybox-options"))}item.type||!item.content&&!item.href||(item.type=item.content?"html":F.guessType(obj,item.href)),"image"!==(type=item.type||F.opts.type)&&"swf"!==type||(defaults.autoWidth=defaults.autoHeight=!1,defaults.scrolling="visible"),"image"===type&&(defaults.aspectRatio=!0),"iframe"===type&&(defaults.autoWidth=!1,defaults.scrolling=isTouch?"scroll":"visible"),items.length<2&&(defaults.margin=30),margin=(item=$.extend(!0,{},defaults,item)).margin,padding=item.padding,"number"===$.type(margin)&&(item.margin=[margin,margin,margin,margin]),"number"===$.type(padding)&&(item.padding=[padding,padding,padding,padding]),item.modal&&$.extend(!0,item,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),item.autoSize!==undefined&&(item.autoWidth=item.autoHeight=!!item.autoSize),"auto"===item.width&&(item.autoWidth=!0),"auto"===item.height&&(item.autoHeight=!0),group.push(item)}),F.group=F.group.concat(group)},cancel:function(){var coming=F.coming;coming&&!1!==F.trigger("onCancel")&&(F.hideLoading(),F.ajaxLoad&&F.ajaxLoad.abort(),F.imgPreload&&(F.imgPreload.onload=F.imgPreload.onerror=null),coming.wrap&&removeWrap(coming.wrap),F.ajaxLoad=F.imgPreload=F.coming=null,F.current||F._afterZoomOut(coming))},close:function(e){e&&"object"===$.type(e)&&e.preventDefault(),F.cancel(),F.isActive&&!F.coming&&!1!==F.trigger("beforeClose")&&(F.unbind(),F.isClosing=!0,F.lock&&F.lock.css("overflow","hidden"),F.isOpen&&!0!==e?(F.isOpen=F.isOpened=!1,F.transitions.close()):F._afterZoomOut())},prev:function(direction){var current=F.current;current&&F.jumpto(current.index-1,isString(direction)?direction:current.direction.prev)},next:function(direction){var current=F.current;current&&F.jumpto(current.index+1,isString(direction)?direction:current.direction.next)},jumpto:function(index,direction){var current=F.current;F.coming&&F.coming.index===index||(F.cancel(),current.index==index?direction=null:direction||(direction=current.direction[index>current.index?"next":"prev"]),F.direction=direction,F._start(index))}}),$.extend(F,{guessType:function(item,href){var rez=item&&item.prop("class")?item.prop("class").match(/fancybox\.(\w+)/):0,type=!1;return rez?rez[1]:(isString(href)?href.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?type="image":href.match(/\.(swf)((\?|#).*)?$/i)?type="swf":"#"===href.charAt(0)&&(type="inline"):isString(item)&&(type="html"),type)},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(obj){if($.isFunction(obj[event])&&(ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1))),!1===ret||"afterClose"===event&&F.isActive)return!1;obj.helpers&&$.each(obj.helpers,function(helper,opts){var helperOpts,helperObject=F.helpers[helper];opts&&helperObject&&$.isFunction(helperObject[event])&&(helperOpts=$.extend(!0,{},helperObject.defaults,opts),helperObject.opts=helperOpts,helperObject[event](helperOpts,obj))}),$.event.trigger(event)}},reposition:function(e,object){var pos,obj=object||F.current,wrap=obj&&obj.wrap;F.isOpen&&wrap&&(pos=F._getPosition(obj),!1===e||e&&"scroll"===e.type?wrap.stop(!0).animate(pos,200).css("overflow","visible"):wrap.css(pos))},update:function(e){var width,type=e&&e.type,current=(getTime(),F.current);if(current&&F.isOpen){if("scroll"===type){if(F.wrap.outerHeight(!0)>F.getViewport().h)return;return F.didUpdate&&clearTimeout(F.didUpdate),void(F.didUpdate=setTimeout(function(){F.reposition(e),F.didUpdate=null},50))}F.lock&&F.lock.css("overflow","hidden"),F._setDimension(),F.reposition(e),F.lock&&F.lock.css("overflow","auto"),"float"===current.caption.type&&(width=F.getViewport().w-(F.wrap.outerWidth(!0)-F.inner.width()),current.caption.wrap.css("width",width).css("marginLeft",-1*(.5*width-.5*F.inner.width()))),current.expander&&(current.canShrink?$(".fancybox-expand").show().attr("title",current.locales[current.locale].SHRINK):current.canExpand?$(".fancybox-expand").show().attr("title",current.locales[current.locale].EXPAND):$(".fancybox-expand").hide()),F.trigger("onUpdate")}},toggle:function(action){F.current&&F.isOpen&&(F.current.fitToView="boolean"===$.type(action)?action:!F.current.fitToView,F.update(!0))},hideLoading:function(){$("#fancybox-loading").remove()},showLoading:function(){var el,view;F.hideLoading(),el=$('<div id="fancybox-loading"></div>').click(F.cancel).appendTo("body"),F.defaults.fixed||(view=F.getViewport(),el.css({position:"absolute",top:.5*view.h+view.y,left:.5*view.w+view.x}))},getViewport:function(){return F.lock?{x:F.lock.scrollLeft(),y:F.lock.scrollTop(),w:F.lock[0].clientWidth,h:F.lock[0].clientHeight}:{x:W.scrollLeft(),y:W.scrollTop(),w:isTouch&&window.innerWidth?window.innerWidth:W.width(),h:isTouch&&window.innerHeight?window.innerHeight:W.height()}},unbind:function(){isQuery(F.wrap)&&F.wrap.unbind(".fb"),isQuery(F.inner)&&F.inner.unbind(".fb"),D.unbind(".fb"),W.unbind(".fb")},rebind:function(){var keys,current=F.current;F.unbind(),current&&F.isOpen&&(W.bind("orientationchange.fb"+(isTouch?"":" resize.fb")+(current.autoCenter&&!current.locked?" scroll.fb":""),F.update),(keys=current.keys)&&D.bind("keydown.fb",function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(27===code&&F.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||target&&(target.type||$(target).is("[contenteditable]"))||$.each(keys,function(i,val){return val[code]!==undefined?(e.preventDefault(),current.group.length>1&&F[i](val[code]),!1):$.inArray(code,val)>-1?(e.preventDefault(),"play"===i?F.slideshow.toggle():F[i](),!1):void 0})}),F.lastScroll=getTime(),current.mouseWheel&&F.group.length>1&&F.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(event){var e=event.originalEvent,el=e.target||0,delta=e.wheelDelta||e.detail||0,deltaX=e.wheelDeltaX||0,deltaY=e.wheelDeltaY||0,now=getTime();el&&el.style&&(!el.style.overflow||"hidden"!==el.style.overflow)&&(el.clientWidth&&el.scrollWidth>el.clientWidth||el.clientHeight&&el.scrollHeight>el.clientHeight)||0===delta||F.current&&F.current.canShrink||(e.stopPropagation(),F.lastScroll&&now-F.lastScroll<80?F.lastScroll=now:(F.lastScroll=now,e.axis&&(e.axis===e.HORIZONTAL_AXIS?deltaX=-1*delta:e.axis===e.VERTICAL_AXIS&&(deltaY=-1*delta)),0===deltaX?deltaY>0?F.prev("down"):F.next("up"):deltaX>0?F.prev("right"):F.next("left")))}),F.touch.init())},rebuild:function(){var current=F.current;current.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),current.arrows&&F.group.length>1&&((current.loop||current.index>0)&&$(F._translate(current.tpl.prev)).appendTo(F.inner).bind("click.fb",F.prev),(current.loop||current.index<F.group.length-1)&&$(F._translate(current.tpl.next)).appendTo(F.inner).bind("click.fb",F.next)),current.closeBtn&&$(F._translate(current.tpl.closeBtn)).appendTo(F.wrap).bind("click.fb",F.close),current.expander&&"image"===current.type&&($('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(F.inner).bind("click.fb",F.toggle),!current.canShrink&&current.canExpand)},_start:function(index){var coming,type;if(F.opts.loop&&(index<0&&(index=F.group.length+index%F.group.length),index%=F.group.length),!(coming=F.group[index]))return!1;(coming=$.extend(!0,{},F.opts,coming)).group=F.group,coming.index=index,F.coming=coming,!1!==F.trigger("beforeLoad")?(F.isActive=!0,F._build(),D.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(D.unbind(".loading"),e.preventDefault(),F.cancel())}),coming.overlay&&coming.overlay.showEarly&&F.overlay.open(coming.overlay),"image"===(type=coming.type)?F._loadImage():"ajax"===type?F._loadAjax():"iframe"===type?F._loadIframe():"inline"===type?F._loadInline():"html"===type||"swf"===type?F._afterLoad():F._error()):F.coming=null},_build:function(){var wrap,scrollV,scrollH,coming=F.coming,captionType=coming.caption.type;coming.wrap=wrap=$('<div class="fancybox-wrap"></div>').appendTo(coming.parent||"body").addClass("fancybox-"+coming.theme),coming.inner=$('<div class="fancybox-inner"></div>').appendTo(wrap),coming["outside"===captionType||"float"===captionType?"inner":"wrap"].addClass("fancybox-skin fancybox-"+coming.theme+"-skin"),coming.locked&&coming.overlay&&F.defaults.fixed&&(F.lock||(F.lock=$('<div id="fancybox-lock"></div>').appendTo(wrap.parent())),F.lock.unbind().append(wrap),coming.overlay.closeClick&&F.lock.click(function(e){$(e.target).is(F.lock)&&F.close()}),(D.height()>W.height()||"scroll"===H.css("overflow-y"))&&($("*:visible").filter(function(){return"fixed"===$(this).css("position")&&!$(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==$(this).attr("id")}).addClass("fancybox-margin"),H.addClass("fancybox-margin")),scrollV=W.scrollTop(),scrollH=W.scrollLeft(),H.addClass("fancybox-lock"),W.scrollTop(scrollV).scrollLeft(scrollH)),F.trigger("onReady")},_error:function(type){F.coming&&($.extend(F.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:type,content:F._translate(F.coming.tpl.error)}),F._afterLoad())},_loadImage:function(){var img=F.imgPreload=new Image;img.onload=function(){this.onload=this.onerror=null,$.extend(F.coming,{width:this.width,height:this.height,content:$(this).addClass("fancybox-image")}),F._afterLoad()},img.onerror=function(){this.onload=this.onerror=null,F._error("image")},img.src=F.coming.href,(!0!==img.complete||img.width<1)&&F.showLoading()},_loadAjax:function(){var hrefParts,selector,coming=F.coming,href=coming.href;href=(hrefParts=href.split(/\s+/,2)).shift(),selector=hrefParts.shift(),F.showLoading(),F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){F.coming&&"abort"!==textStatus?F._error("ajax",jqXHR):F.hideLoading()},success:function(data,textStatus){"success"===textStatus&&(selector&&(data=$("<div>").html(data).find(selector)),coming.content=data,F._afterLoad())}}))},_loadIframe:function(){var iframe,coming=F.coming;coming.content=iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",isTouch?"auto":coming.iframe.scrolling),coming.iframe.preload&&(F.showLoading(),F._setDimension(coming),coming.wrap.addClass("fancybox-tmp"),iframe.one("load.fb",function(){coming.iframe.preload&&($(this).data("ready",1),$(this).bind("load.fb",F.update),F._afterLoad())})),iframe.attr("src",coming.href).appendTo(coming.inner),coming.iframe.preload?1!==iframe.data("ready")&&F.showLoading():F._afterLoad()},_loadInline:function(){var coming=F.coming,href=coming.href;coming.content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,""):href),coming.content.length?F._afterLoad():F._error()},_preloadImages:function(){var item,i,group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0;for(i=1;i<=cnt;i+=1)(item=group[(current.index+i)%len])&&"image"===item.type&&item.href&&((new Image).src=item.href)},_afterLoad:function(){var current=F.coming,previous=F.current;if(D.unbind(".loading"),!current||!1===F.isActive||!1===F.trigger("afterLoad",current,previous))return F.hideLoading(),current&&current.wrap&&removeWrap(current.wrap),previous||F._afterZoomOut(current),void(F.coming=null);$.extend(F,{wrap:current.wrap.addClass("fancybox-type-"+current.type+" fancybox-"+(isTouch?"mobile":"desktop")+" fancybox-"+current.theme+"-"+(isTouch?"mobile":"desktop")+" "+current.wrapCSS),inner:current.inner,current:current,previous:previous}),F._prepare(),F.trigger("beforeShow",current,previous),F.isOpen=!1,F.coming=null,F._setDimension(),F.hideLoading(),current.overlay&&!F.overlay.el&&F.overlay.open(current.overlay),F.transitions.open()},_prepare:function(){var embed,current=F.current,content=current.content||"",wrap=current.wrap,inner=current.inner,margin=current.margin,padding=current.padding,href=current.href,type=current.type,caption=(current.scrolling,current.caption),captionText=current.title,captionType=caption.type,placeholder="fancybox-placeholder",display="fancybox-display";"iframe"!==type&&isQuery(content)&&content.length&&(content.data(placeholder)||content.data(display,content.css("display")).data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide()),content=content.show().detach(),current.wrap.bind("onReset",function(){$(this).find(content).length&&content.css("display",content.data(display)).replaceAll(content.data(placeholder)).data(placeholder,!1).data(display,!1)})),"swf"===type&&(content='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>',embed="",$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>',embed+=" "+name+'="'+val+'"'}),content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+"></embed></object>"),isQuery(content)&&content.parent().is(current.inner)||(current.inner.append(content),current.content=current.inner.children(":last")),$.each(["Top","Right","Bottom","Left"],function(i,v){margin[i]&&wrap.css("margin"+v,getValue(margin[i])),padding[i]&&("Bottom"===v&&"outside"===captionType||wrap.css("padding"+v,getValue(padding[i])),"outside"!==captionType&&"float"!==captionType||(inner.css("border"+v+"Width",getValue(padding[i])),"Top"!==v&&"Left"!==v||inner.css("margin"+v,getValue(-1*padding[i]))))}),$.isFunction(captionText)&&(captionText=captionText.call(current.element,current)),isString(captionText)&&""!==$.trim(captionText)&&(current.caption.wrap=$('<div class="fancybox-title fancybox-title-'+captionType+'-wrap">'+captionText+"</div>").appendTo(current["over"===captionType?"inner":"wrap"]),"float"===captionType&&current.caption.wrap.width(F.getViewport().w-(F.wrap.outerWidth(!0)-F.inner.width())).wrapInner("<div></div>"))},_setDimension:function(object){var scrollingX,scrollingY,hSpace,wSpace,origWidth,origHeight,ratio,iframe,body,maxWidth_,maxHeight_,width_,height_,canShrink,canExpand,view=F.getViewport(),current=object||F.current,wrap=current.wrap,inner=current.inner,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,margin=current.margin,scrollOut=current.scrollOutside?current.scrollbarWidth:0,padding=(margin=current.margin,current.padding),scrolling=current.scrolling,steps=1;if(scrollingX=(scrolling=scrolling.split(","))[0],scrollingY=scrolling[1]||scrollingX,current.inner.css("overflow-x","yes"===scrollingX?"scroll":"no"===scrollingX?"hidden":scrollingX).css("overflow-y","yes"===scrollingY?"scroll":"no"===scrollingY?"hidden":scrollingY),wSpace=margin[1]+margin[3]+padding[1]+padding[3],hSpace=margin[0]+margin[2]+padding[0]+padding[2],minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,"w")-wSpace:minWidth),maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,"w")-wSpace:maxWidth),minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,"h")-hSpace:minHeight),maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,"h")-hSpace:maxHeight),origWidth=getScalar(isPercentage(width)?getScalar(width,"w")-wSpace:width),origHeight=getScalar(isPercentage(height)?getScalar(height,"h")-hSpace:height),current.fitToView&&(maxWidth=Math.min(maxWidth,getScalar("100%","w")-wSpace),maxHeight=Math.min(maxHeight,getScalar("100%","h")-hSpace)),maxWidth_=view.w,maxHeight_=view.h,"iframe"===current.type){if(iframe=current.content,wrap.removeClass("fancybox-tmp"),(current.autoWidth||current.autoHeight)&&iframe&&1===iframe.data("ready"))try{iframe[0].contentWindow&&iframe[0].contentWindow.document.location&&(body=iframe.contents().find("body"),inner.addClass("fancybox-tmp"),inner.width(screen.width-wSpace).height(99999),scrollOut&&body.css("overflow-x","hidden"),current.autoWidth&&(origWidth=body.outerWidth(!0)),current.autoHeight&&(origHeight=body.outerHeight(!0)),inner.removeClass("fancybox-tmp"))}catch(e){}}else(current.autoWidth||current.autoHeight)&&"image"!==current.type&&"swf"!==current.type&&(inner.addClass("fancybox-tmp"),current.autoWidth?inner.width("auto"):inner.width(maxWidth),current.autoHeight?inner.height("auto"):inner.height(maxHeight),current.autoWidth&&(origWidth=inner[0].scrollWidth||inner.width()),current.autoHeight&&(origHeight=inner[0].scrollHeight||inner.height()),inner.removeClass("fancybox-tmp"));if(width=origWidth,height=origHeight,ratio=origWidth/origHeight,!current.autoResize)return wrap.css({width:getValue(width),height:"auto"}),void inner.css({width:getValue(width),height:getValue(height)});if(current.aspectRatio?(width>maxWidth&&(height=(width=maxWidth)/ratio),height>maxHeight&&(width=(height=maxHeight)*ratio),width<minWidth&&(height=(width=minWidth)/ratio),height<minHeight&&(width=(height=minHeight)*ratio)):(width=Math.max(minWidth,Math.min(width,maxWidth)),current.autoHeight&&"iframe"!==current.type&&(inner.width(width),origHeight=height=inner[0].scrollHeight),height=Math.max(minHeight,Math.min(height,maxHeight))),wrap.css({width:getValue(width),height:"auto"}),inner.css({width:getValue(width),height:getValue(height)}),width_=getScalar(wrap.outerWidth(!0)),height_=getScalar(wrap.outerHeight(!0)),current.fitToView)if(current.aspectRatio)for(;(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight&&!(steps++>30);)height=Math.max(minHeight,Math.min(maxHeight,height-10)),(width=getScalar(height*ratio))<minWidth&&(height=getScalar((width=minWidth)/ratio)),width>maxWidth&&(height=getScalar((width=maxWidth)/ratio)),wrap.css({width:getValue(width)}),inner.css({width:getValue(width),height:getValue(height)}),width_=getScalar(wrap.outerWidth(!0)),height_=getScalar(wrap.outerHeight(!0));else width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_))),height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)));scrollOut&&"auto"===scrollingX&&(height<inner[0].scrollHeight||isQuery(current.content)&&current.content[0]&&height<current.content[0].offsetHeight)&&width+wSpace+scrollOut<maxWidth&&(width+=scrollOut),wrap.css({width:width}),inner.css({width:getValue(width),height:getValue(height)}),width_=getScalar(wrap.outerWidth(!0)),height_=getScalar(wrap.outerHeight(!0)),canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight,canExpand=(width_<maxWidth_||height_<maxHeight_)&&(current.aspectRatio?width<maxWidth&&height<maxHeight&&width<origWidth&&height<origHeight:(width<maxWidth||height<maxHeight)&&(width<origWidth||height<origHeight)),current.canShrink=canShrink,current.canExpand=canExpand,!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand&&inner.height("auto")},_getPosition:function(object){var obj=object||F.current,wrap=obj.wrap,view=F.getViewport(),top=view.y,left=view.x;return{top:getValue(Math.max(top,top+(view.h-wrap.outerHeight(!0))*obj.topRatio)),left:getValue(Math.max(left,left+(view.w-wrap.outerWidth(!0))*obj.leftRatio)),width:getValue(wrap.width()),height:getValue(wrap.height())}},_afterZoomIn:function(){var current=F.current;current&&(F.lock&&F.lock.css("overflow","auto"),F.isOpen=F.isOpened=!0,F.rebuild(),F.rebind(),current.caption&&current.caption.wrap&&current.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),F.update(),F.wrap.css("overflow","visible").addClass("fancybox-open").focus(),F[F.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+current.theme+"-skin-open"),current.caption&&current.caption.wrap&&current.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),current.margin[2]>0&&$('<div class="fancybox-spacer"></div>').css("height",getValue(current.margin[2]-2)).appendTo(F.wrap),F.trigger("afterShow"),F._preloadImages(),current.autoPlay&&!F.slideshow.isActive&&F.slideshow.start())},_afterZoomOut:function(obj){var cleanup=function(){removeWrap(".fancybox-wrap")};F.hideLoading(),(obj=obj||F.current)&&obj.wrap&&obj.wrap.hide(),$.extend(F,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),F.trigger("afterClose",obj),F.coming||F.current||(obj.overlay?F.overlay.close(obj.overlay,cleanup):cleanup())},_translate:function(str){var obj=F.coming||F.current,arr=obj.locales[obj.locale];return str.replace(/\{\{(\w+)\}\}/g,function(match,n){var value=arr[n];return value===undefined?match:value})}}),F.transitions={_getOrig:function(object){var obj=object||F.current,wrap=obj.wrap,element=obj.element,orig=obj.orig,view=F.getViewport(),pos={},width=50,height=50;return!orig&&element&&element.is(":visible")&&((orig=element.find("img:first:visible")).length||(orig=element)),!orig&&obj.group[0].element&&(orig=obj.group[0].element.find("img:visible:first")),isQuery(orig)&&orig.is(":visible")?(pos=orig.offset(),orig.is("img")&&(width=orig.outerWidth(),height=orig.outerHeight()),F.lock&&(pos.top-=W.scrollTop(),pos.left-=W.scrollLeft())):(pos.top=view.y+(view.h-height)*obj.topRatio,pos.left=view.x+(view.w-width)*obj.leftRatio),pos={top:getValue(pos.top-.5*(wrap.outerHeight(!0)-wrap.height())),left:getValue(pos.left-.5*(wrap.outerWidth(!0)-wrap.width())),width:getValue(width),height:getValue(height)}},_getCenter:function(object){var obj=object||F.current,wrap=obj.wrap,view=F.getViewport(),top=view.y,left=view.x;return{top:getValue(Math.max(top,top+(view.h-wrap.outerHeight(!0))*obj.topRatio)),left:getValue(Math.max(left,left+(view.w-wrap.outerWidth(!0))*obj.leftRatio)),width:getValue(wrap.width()),height:getValue(wrap.height())}},_prepare:function(object,forClosing){var obj=object||F.current,wrap=obj.wrap,inner=obj.inner;wrap.height(wrap.height()),inner.css({width:100*inner.width()/wrap.width()+"%",height:Math.floor(100*inner.height()/wrap.height()*100)/100+"%"}),!0===forClosing&&wrap.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),inner.css("overflow","hidden")},fade:function(object,stage){var pos=this._getCenter(object),opa={opacity:0};return"open"===stage||"changeIn"===stage?[$.extend(pos,opa),{opacity:1}]:[{},opa]},drop:function(object,stage){var a=$.extend(this._getCenter(object),{opacity:1}),b=$.extend({},a,{opacity:0,top:getValue(Math.max(F.getViewport().y-object.margin[0],getScalar(a.top)-200))});return"open"===stage||"changeIn"===stage?[b,a]:[{},b]},elastic:function(object,stage){var prop,amount,value,wrap=object.wrap,margin=object.margin,view=F.getViewport(),direction=F.direction,pos=this._getCenter(object),from=$.extend({},pos),to=$.extend({},pos);return"open"===stage?from=this._getOrig(object):"close"===stage?(from={},to=this._getOrig(object)):direction&&(prop="up"===direction||"down"===direction?"top":"left",amount="up"===direction||"left"===direction?200:-200,"changeIn"===stage?(value=getScalar(from[prop])+amount,value="left"===direction?Math.min(value,view.x+view.w-margin[3]-wrap.outerWidth()-1):"right"===direction?Math.max(value,view.x-margin[1]):"up"===direction?Math.min(value,view.y+view.h-margin[0]-wrap.outerHeight()-1):Math.max(value,view.y-margin[2]),from[prop]=value):(value=getScalar(wrap.css(prop))-amount,from={},value="left"===direction?Math.max(value,view.x-margin[3]):"right"===direction?Math.min(value,view.x+view.w-margin[1]-wrap.outerWidth()-1):"up"===direction?Math.max(value,view.y-margin[0]):Math.min(value,view.y+view.h-margin[2]-wrap.outerHeight()-1),to[prop]=value)),"open"===stage||"changeIn"===stage?(from.opacity=0,to.opacity=1):to.opacity=0,[from,to]},open:function(){var effect,pos,speed,easing,stage,current=F.current,previous=F.previous;F.direction;previous&&previous.wrap.stop(!0).removeClass("fancybox-opened"),F.isOpened?(effect=current.nextEffect,speed=current.nextSpeed,easing=current.nextEasing,stage="changeIn"):(effect=current.openEffect,speed=current.openSpeed,easing=current.openEasing,stage="open"),"none"===effect?F._afterZoomIn():(pos=this[effect](current,stage),"elastic"===effect&&this._prepare(current),current.wrap.css(pos[0]),current.wrap.animate(pos[1],speed,easing,F._afterZoomIn)),previous&&(F.isOpened&&"none"!==previous.prevEffect?(previous.wrap.stop(!0).removeClass("fancybox-opened"),pos=this[previous.prevEffect](previous,"changeOut"),this._prepare(previous,!0),previous.wrap.animate(pos[1],previous.prevSpeed,previous.prevEasing,function(){removeWrap(previous.wrap)})):removeWrap($(".fancybox-wrap").not(current.wrap)))},close:function(){var pos,current=F.current,wrap=current.wrap.stop(!0).removeClass("fancybox-opened"),effect=current.closeEffect;if("none"===effect)return F._afterZoomOut();this._prepare(current,!0),pos=this[effect](current,"close"),wrap.addClass("fancybox-animating").animate(pos[1],current.closeSpeed,current.closeEasing,F._afterZoomOut)}},F.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),F.current&&this.isActive&&(this._timer=setTimeout(F.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(speed){var current=F.current;current&&(current.loop||current.index<current.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=speed||current.playSpeed,D.bind({"beforeLoad.player":$.proxy(this._clear,this),"onUpdate.player":$.proxy(this._set,this),"onCancel.player beforeClose.player":$.proxy(this.stop,this)}),this._set(),F.trigger("onPlayStart"))},stop:function(){this._clear(),D.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,F.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},F.overlay={el:null,theme:"",open:function(opts){var opacity,theme,that=this,el=this.el,fixed=F.defaults.fixed;opts=$.extend({},F.defaults.overlay,opts),el?el.stop(!0).removeAttr("style").unbind(".overlay"):el=$('<div class="fancybox-overlay'+(fixed?" fancybox-overlay-fixed":"")+'"></div>').appendTo(opts.parent||"body"),opts.closeClick&&el.bind("click.overlay",function(){return!(F.lastTouch&&getTime()-F.lastTouch<300)&&(F.isActive?F.close():that.close(),!1)}),(theme=opts.theme||(F.coming?F.coming.theme:"default"))!==this.theme&&el.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=theme,el.addClass("fancybox-"+theme+"-overlay").css(opts.css),opacity=el.css("opacity"),!this.el&&opacity<1&&opts.speedIn&&el.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(opts.speedIn,opacity),this.el=el,fixed||(W.bind("resize.overlay",$.proxy(this.update,this)),this.update())},close:function(opts,callback){opts=$.extend({},F.defaults.overlay,opts),this.el&&this.el.stop(!0).fadeOut(opts.speedOut,function(){W.unbind("resize.overlay"),$(".fancybox-overlay").remove(),F.overlay.el=null,$.isFunction(callback)&&callback()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(D.width()).height(D.height())}},F.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){F.current;var data=e.originalEvent.touches?e.originalEvent.touches[0]:e,now=getTime();if(F.isOpen&&!F.wrap.is(":animated")&&($(e.target).is(F.inner)||$(e.target).parent().is(F.inner))){if(F.lastTouch&&now-F.lastTouch<300)return e.preventDefault(),F.lastTouch=now,this._cancel(!0),F.toggle(),!1;F.lastTouch=now,F.wrap&&F.wrap.outerWidth()>F.getViewport().w||(e.preventDefault(),data&&F.wrap&&F.wrap.outerWidth()<F.getViewport().w&&(this.startX=data.pageX,this.wrapX=F.wrap.position().left,this.isMoving=!0,F.inner.bind("touchmove.fb",$.proxy(this._move,this)).one("touchend.fb touchcancel.fb",$.proxy(this._cancel,this))))}},_move:function(e){var data=e.originalEvent.touches?e.originalEvent.touches[0]:e,dx=this.startX-data.pageX;this.isMoving&&F.isOpen&&(this.dx=dx,F.current.wrap.outerWidth(!0)<=W.width()&&(Math.abs(dx)>=50?(e.preventDefault(),this.last=0,this._cancel(!0),dx>0?F.next("left"):F.prev("right")):Math.abs(dx)>3&&(e.preventDefault(),this.last=0,F.wrap.css("left",this.wrapX-dx))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(){F.inner&&F.inner.unbind("touchmove.fb"),F.isOpen&&Math.abs(this.dx)>3&&F.reposition(!1),this._clear()},init:function(){F.inner&&F.touch&&(this._cancel(!0),F.inner.bind("touchstart.fb",$.proxy(this._start,this)))}},$.easing.easeOutQuad||($.easing.easeOutQuad=function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}),D.ready(function(){var w1,w2,scrollV,scrollH,elem,fixed
;$.scrollbarWidth===undefined&&($.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();return parent.remove(),width}),$.support.fixedPosition===undefined&&($.support.fixedPosition=(elem=$('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),fixed="fixed"===elem.css("position")&&(elem[0].offsetTop>18&&elem[0].offsetTop<22||15===elem[0].offsetTop),elem.remove(),fixed)),$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")}),scrollV=W.scrollTop(),scrollH=W.scrollLeft(),w1=$(window).width(),H.addClass("fancybox-lock-test"),w2=$(window).width(),H.removeClass("fancybox-lock-test"),W.scrollTop(scrollV).scrollLeft(scrollH),F.lockMargin=w2-w1,$("<style type='text/css'>.fancybox-margin{margin-right:"+F.lockMargin+"px;}</style>").appendTo("head"),$("script[src*='jquery.fancybox.js']").length>0&&$("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),$.fn.fancybox=function(options){var that=this,selector=!!this.length&&this.selector,live=selector&&selector.indexOf("()")<0&&!(options&&!1===options.live),handler=function(e){var collection=live?$(selector):that,group=$(this).blur(),param=options.groupAttr||"data-fancybox-group",value=group.attr(param),tmp=this.rel;!value&&tmp&&"nofollow"!==tmp&&(param="rel",value=tmp),value&&(group=collection.filter("["+param+'="'+value+'"]'),options.index=group.index(this)),group.length&&(e.preventDefault(),F.open(group.get(),options))};return options=options||{},live?D.undelegate(selector,"click.fb-start").delegate(selector+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",handler):that.unbind("click.fb-start").bind("click.fb-start",handler),this}}(window,document,jQuery);