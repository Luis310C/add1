var vital_signs={spinner:null,init:function(){$("#vital_signs_modal").append("<div class='loading'><p>loading vital sign</p></div><div class='content'></div> "),$("html.ie8").exists()||(this.spinner=$("#vital_signs_modal .loading").first().spin(main.spinner_opts));var loading_top=($(window).height()-$(".vital_signs_menu").height())/2;console.log("load at: "+loading_top),$("#vital_signs_modal .loading").first().css("top",loading_top+"px"),this.initCarousel(),this.initListeners()},initCarousel:function(){$(".vital_signs_menu ul").slick({dots:!1,infinite:!0,touchThreshold:8,speed:300,slide:".vital_signs_menu .slide",slidesToShow:6,slidesToScroll:6,centerMode:!1,centerPadding:"12px",arrows:!0,appendArrows:".slick-navigation",prevArrow:'<div class="slick-prev">Prev</div>',nextArrow:'<div class="slick-next">Next</div>',onInit:function(){$(".vital_signs_menu").css("visibility","visible")},responsive:[{breakpoint:1550,settings:{slidesToShow:5,slidesToScroll:5,centerMode:!1,arrows:!0}},{breakpoint:1360,settings:{slidesToShow:4,slidesToScroll:4,centerMode:!1,arrows:!0}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,centerMode:!1,arrows:!0}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:2,centerMode:!1,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,arrows:!0}}]})},initListeners:function(){$(".vital_signs_menu a").click(function(){if($(this).hasClass("current"))vital_signs.closeModal();else{$(".expand_hint").hide(),console.log("open modal!"),$(".vital_signs_menu .image_and_description_container").removeClass("current"),$(this).addClass("current"),$("#vital_signs_modal .loading").show(),$("#vital_signs_modal .content").empty(),$("#vital_signs_modal .content").removeClass("visible"),$("#vital_signs_modal").addClass("visible");var url=$(this).parents("li.slide").attr("data-overlay-page")+"?layout=empty&override_preview=true";$("#vital_signs_modal .content").load(url,function(response,status,xhr){($("#vital_signs_modal .loading").hide(),"error"==status)?(alert("Sorry but there was an error: "+xhr.status+" "+xhr.statusText),vital_signs.closeModal()):(vital_signs.loadModal(),$(this).addClass("visible"))})}}),$(window).resize(function(){$(window).width()>1360&&$(".vital_signs_menu ul").slickGoTo(0)})},loadModal:function(){$("#vital_signs_modal a.close_button").click(function(){vital_signs.closeModal()}),$(".background_area").click(function(){console.log("click background"),vital_signs.closeModal()})},closeModal:function(){$(".expand_hint").show(),$("#vital_signs_modal").removeClass("visible"),$("#vital_signs_modal .content").removeClass("visible"),$("#vital_signs_modal .content").empty(),$(".vital_signs_menu .image_and_description_container").removeClass("current")}};$(function(){vital_signs.init()});